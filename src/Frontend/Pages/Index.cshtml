@page
@using System.Security.Claims
@using Frontend.Models
@model IndexModel
@{
    ViewData["Title"] = "Home page";
}

<div class="text-center">
    <h1 class="display-4">Welcome v2</h1>

    @{
        var headers = Request?.Headers.ToList();
        if (headers is not null && headers.Any())
        {
            <h5>Headers</h5>
            <table class="table table-bordered table-striped">
                <tr>
                    <th>
                        Header
                    </th>
                    <th>
                        Value
                    </th>
                </tr>
                @foreach (var header in headers)
                {
                    <tr>
                        <td>
                            @header.Key
                        </td>
                        <td>
                            @header.Value.ToString()
                        </td>
                    </tr>
                }
            </table>
        }
    }


    @{
        var claims = ViewData["Claims"] as IEnumerable<Claim>;
        if (claims is not null && claims.Any())
        {
            <h5>Claims</h5>
            <table class="table table-bordered table-striped">
                <tr>
                    <th>
                        Claim Type
                    </th>
                    <th>
                        Claim Value
                    </th>
                </tr>


                @foreach (System.Security.Claims.Claim claim in claims)
                {
                    <tr>
                        <td>
                            @claim.Type
                        </td>
                        <td>
                            @claim.Value
                        </td>
                    </tr>
                }
            </table>
        }
    }

    @{
        var weatherForecasts = ViewData["weatherForecast"] as IEnumerable<WeatherForecast>;
        if (weatherForecasts is not null && weatherForecasts.Any())
        {
            <h5>Weather forecast</h5>
            <table class="table table-bordered table-striped">
                <tr>
                    <th>
                        Summary
                    </th>
                    <th>
                        TemperatureC
                    </th>
                </tr>


                @foreach (var weatherForecast in weatherForecasts!)
                {
                    <tr>
                        <td>
                            @weatherForecast.Summary
                        </td>
                        <td>
                            @weatherForecast.TemperatureC
                        </td>
                    </tr>
                }
            </table>
        }
    }

</div>



